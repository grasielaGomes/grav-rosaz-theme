{% extends 'partials/base.html.twig' %}

{% block content %}

  {# HERO CAROUSEL #}
  {% set slides = page.header.hero_slides ?? [] %}
  {% if slides|length %}
    {% include 'partials/hero_carousel.html.twig' with { slides: slides } %}
  {% endif %}

  {# PARALLAX BANNER #}
  {% set banner = page.header.parallax_banner ?? {} %}
  {% if banner and (banner.enabled is not defined or banner.enabled) %}
    {% include 'partials/parallax_banner.html.twig' with {
      image:         banner.image ?? null,
      overlay_color: banner.overlay_color ?? null,
      eyebrow:       banner.eyebrow ?? null,
      title:         banner.title ?? null,
      text:          banner.text ?? null,
      cta_label:     banner.cta.label ?? null,
      cta_link:      banner.cta.link ?? null,
      align:         banner.align ?? 'center'
    } %}
  {% endif %}

  {# HELP CARDS SECTION #}
  {% set help = page.header.help_cards ?? {} %}
  {% if help.enabled ?? false %}
    {% if help.items is defined and help.items|length %}
      {% include 'partials/help_cards.html.twig' with {
        title: help.title ?? null,
        items: help.items
      } %}
    {% endif %}
  {% endif %}

  {# TESTIMONIALS #}
  {% set testimonials = page.header.testimonials ?? {} %}
  {% if testimonials.enabled ?? false %}
    {% include 'partials/testimonials.html.twig' with { testimonials: testimonials } %}
  {% endif %}

   {# EVENTS #}
  {% set events_section = page.header.events_section ?? {} %}
  {% if events_section.enabled and (events_section.items|default([])|length > 0) %}
    {% include 'partials/events_grid.html.twig' with { events_section: events_section } %}
  {% endif %}

{% endblock %}
