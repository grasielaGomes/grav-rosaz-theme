{% set raw_image = image ?? null %} {% if raw_image and page.media[raw_image] is
defined %} {% set resolved_image = page.media[raw_image].url %} {% else %} {% set
resolved_image = raw_image %} {% endif %} {% set overlay_color = overlay_color ??
'rgba(249,115,22,0.9)' %} {% set eyebrow = eyebrow ?? null %} {% set title =
title ?? null %} {% set text = text ?? null %} {% set cta_label = cta_label ??
null %} {% set cta_link = cta_link ?? null %} {% set is_external =
  cta_link starts with 'http' or
  cta_link starts with 'mailto:' or
  cta_link starts with 'tel:'
%} {% set align = align ?? 'center' %}
{% set align_classes = { 'left': 'items-start text-left', 'right': 'items-end
text-right', 'center': 'items-center text-center' } %}

<section class="relative overflow-hidden">
  {# Here is the background image + parallax #}
  {% if resolved_image %}
    <div
      class="relative py-16 md:py-24 bg-cover bg-center bg-no-repeat bg-fixed"
      style="background-image: url('{{ url(resolved_image) }}');"
    >
  {% else %}
    <div class="relative py-16 md:py-24 bg-neutral-900">
  {% endif %}
    {# Configurable color overlay #}
    <div
      class="absolute inset-0"
      style="background-color: {{ overlay_color|e('html_attr') }};"
    ></div>

    {# Extra layer slightly darker for text contrast #}
    <div class="absolute inset-0 bg-neutral-900/20"></div>

    {# Content (text + button) #}
    <div
      class="relative max-w-4xl mx-auto px-4 flex flex-col {{
        align_classes[align]
      }}"
    >
      {% if eyebrow %}
      <p
        class="text-sm md:text-base font-medium tracking-[0.18em] uppercase text-neutral-100 mb-3"
      >
        {{ eyebrow }}
      </p>
      {% endif %} {% if title %}
      <h2
        class="text-2xl md:text-4xl lg:text-5xl font-heading font-semibold text-neutral-50 leading-tight lg:leading-[1.1] mb-4"
      >
        {{ title }}
      </h2>
      {% endif %} {% if text %}
      <p class="text-base md:text-lg text-neutral-100/90 mb-8 max-w-2xl">
        {{ text }}
      </p>
      {% endif %} {% if cta_label and cta_link %}
      <a
        href="{{ cta_link }}"
        {% if is_external %}target="_blank" rel="noopener noreferrer"{% endif %}
        class="inline-flex items-center justify-center rounded-full border border-neutral-50/80 px-6 py-2.5 text-sm font-semibold text-neutral-50 hover:bg-neutral-50 hover:text-neutral-900 transition-colors duration-200"
      >
        {{ cta_label }}
      </a>
      {% endif %}
    </div>
  </div>
</section>