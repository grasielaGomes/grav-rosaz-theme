{#
  Expected data (example):

  events_section:
    enabled: true
    eyebrow: 'PRONTOS PARA CAMINHAR JUNTO'
    title: 'Próximos eventos'
    items:
      - title: '...'
        image: 'events/event-1.jpg'   # or 'theme://images/...'
        date: '2025-10-20'
        time: '18h00 – 19h30'
        location: 'Susa, Itália'
        url: '/eventos/...'
#}

{% set config = events_section ?? {} %}
{% set eyebrow = config.eyebrow ?? '' %}
{% set title   = config.title ?? '' %}
{% set items   = config.items ?? [] %}

{% if items|length %}
<section class="bg-neutral-50 py-16 md:py-20">
  <div class="max-w-6xl mx-auto px-4">
    {# Section header #}
    {% if eyebrow or title %}
      <div class="text-center mb-10 md:mb-14">
        {% if eyebrow %}
          <p class="text-xs font-semibold tracking-[0.2em] text-orange-500 uppercase mb-2">
            {{ eyebrow }}
          </p>
        {% endif %}

        {% if title %}
          <h2 class="text-3xl md:text-4xl font-heading font-semibold text-neutral-900">
            {{ title }}
          </h2>
        {% endif %}
      </div>
    {% endif %}

    {# Events grid #}
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {% for event in items %}
        {# Resolve image #}
        {% set raw_image = event.image ?? null %}
        {% if raw_image %}
          {% set image_src = raw_image starts with 'theme://' ? raw_image : 'theme://images/' ~ raw_image %}
        {% else %}
          {% set image_src = null %}
        {% endif %}

        {# Day and month (if date is defined in ISO) #}
        {% set date_value = event.date ?? null %}
        {% if date_value %}
          {% set day   = date_value|date('d') %}
          {% set month = date_value|date('M')|upper %}
        {% else %}
          {% set day   = event.day ?? '' %}
          {% set month = event.month ?? '' %}
        {% endif %}

        <article class="bg-neutral-100 rounded-3xl shadow-sm hover:shadow-md hover:-translate-y-1 transition-all duration-200 overflow-hidden">
          <div class="relative">
            {% if image_src %}
              <img
                src="{{ url(image_src) }}"
                alt="{{ event.title|e }}"
                class="w-full h-56 object-cover"
                loading="lazy"
              />
            {% endif %}

            {% if day or month %}
              <div class="absolute left-4 top-4 bg-orange-500 text-neutral-50 rounded-lg px-3 py-2 text-center leading-tight shadow-md">
                {% if day %}
                  <div class="text-sm font-bold">{{ day }}</div>
                {% endif %}
                {% if month %}
                  <div class="text-[10px] tracking-wide uppercase">{{ month }}</div>
                {% endif %}
              </div>
            {% endif %}
          </div>

          <div class="px-6 py-5">
            {% if event.title %}
              {% if event.url %}
                <a href="{{ event.url }}" class="block mb-3">
                  <h3 class="text-lg font-heading font-semibold text-neutral-900 hover:text-orange-500 transition-colors">
                    {{ event.title }}
                  </h3>
                </a>
              {% else %}
                <h3 class="text-lg font-heading font-semibold text-neutral-900 mb-3">
                  {{ event.title }}
                </h3>
              {% endif %}
            {% endif %}

            <div class="flex flex-wrap items-center gap-x-4 gap-y-1 text-xs text-neutral-600">
              {% if event.time %}
                <div class="flex items-center gap-1">
                  <span class="inline-block h-1.5 w-1.5 rounded-full bg-orange-500"></span>
                  <span>{{ event.time }}</span>
                </div>
              {% endif %}

              {% if event.location %}
                <div class="flex items-center gap-1">
                  <span class="inline-block h-1.5 w-1.5 rounded-full bg-orange-400"></span>
                  <span>{{ event.location }}</span>
                </div>
              {% endif %}
            </div>
          </div>
        </article>
      {% endfor %}
    </div>
  </div>
</section>
{% endif %}
